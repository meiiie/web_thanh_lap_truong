"use client";

import { useRef, useEffect } from 'react';
import { gsap } from 'gsap';
import './VimaruLogo.css';

const VimaruLogo = ({ 
  className = "", 
  animateOnScroll = true, 
  delay = 0,
  size = 500,
  color = "var(--vmu-accent)"
}) => {
  const svgRef = useRef(null);
  const pathsRef = useRef([]);

  useEffect(() => {
    if (!animateOnScroll) return;

    const paths = pathsRef.current;
    if (!paths.length) return;

    // Create timeline for staggered animation
    const tl = gsap.timeline({
      delay: delay,
      scrollTrigger: {
        trigger: svgRef.current,
        start: "top 80%",
        end: "bottom 20%",
        toggleActions: "play none none reverse"
      }
    });

    // Initial state - all paths invisible
    gsap.set(paths, {
      opacity: 0,
      scale: 0,
      rotation: 180,
      transformOrigin: "center center"
    });

    // Staggered reveal animation
    tl.to(paths, {
      opacity: 1,
      scale: 1,
      rotation: 0,
      duration: 0.8,
      ease: "back.out(1.7)",
      stagger: 0.1
    });

    // Add glow effect after reveal
    tl.to(paths, {
      filter: "drop-shadow(0 0 20px rgba(255, 194, 14, 0.6))",
      duration: 0.5,
      ease: "power2.out"
    }, "-=0.3");

  }, [animateOnScroll, delay]);

  return (
    <div className={`vimaru-logo ${className}`}>
      <svg 
        ref={svgRef}
        width={size} 
        height={size} 
        viewBox="0 0 1118 230"
        style={{ 
          filter: `drop-shadow(0 0 30px ${color}40)`,
          transition: "all 0.3s ease"
        }}
      >
      {/* Path 1 - Background/Container */}
      <path 
        ref={el => pathsRef.current[0] = el}
        d="M0 0 C165 0 330 0 500 0 C500 51.15 500 102.3 500 155 C335 155 170 155 0 155 C0 103.85 0 52.7 0 0 Z"
        fill={color}
        stroke={color}
        strokeWidth="1"
        opacity="0.1"
      />
      
      {/* Path 2 - V letter */}
      <path 
        ref={el => pathsRef.current[1] = el}
        d="M0 0 C4.87891689 2.67122664 9.29895551 5.81621057 13 10 C13.680625 9.0925 14.36125 8.185 15.0625 7.25 C20.3790808 0.95326744 27.00263538 -1.20865657 35 -2 C43.84626384 -2.24764036 51.09185306 0.77153079 57.875 6.375 C65.40410375 15.67565758 66.30468089 24.542501 66.1953125 36.15625 C66.1924826 37.29912476 66.18965271 38.44199951 66.18673706 39.61950684 C66.17560025 43.24644732 66.15050741 46.87313496 66.125 50.5 C66.11496181 52.96874642 66.10583743 55.43749673 66.09765625 57.90625 C66.07568215 63.93759646 66.04119703 69.96875545 66 76 C62.37 76 58.74 76 55 76 C54.970271 73.64669556 54.970271 73.64669556 54.93994141 71.24584961 C54.86371867 65.41056602 54.77502659 59.57552636 54.68261719 53.74047852 C54.64439635 51.21774114 54.60953158 48.69495055 54.578125 46.17211914 C54.53232515 42.54033423 54.4743543 38.90891348 54.4140625 35.27734375 C54.40251129 34.15416245 54.39096008 33.03098114 54.37905884 31.87376404 C54.40879866 22.34586075 54.40879866 22.34586075 50.34375 14.0390625 C49.7353125 13.57242188 49.126875 13.10578125 48.5 12.625 C47.8915625 12.14289063 47.283125 11.66078125 46.65625 11.1640625 C41.74857123 7.7147977 35.77162063 8.61991767 30 9 C24.76164435 10.68375717 22.18864818 13.57132197 19 18 C17.29167888 21.59097259 16.73789737 24.47016669 16.68115234 28.43286133 C16.66128265 29.49358353 16.64141296 30.55430573 16.62094116 31.64717102 C16.60938995 32.7806749 16.59783875 33.91417877 16.5859375 35.08203125 C16.56657135 36.25134689 16.5472052 37.42066254 16.5272522 38.62541199 C16.46754805 42.35436749 16.42110703 46.08335401 16.375 49.8125 C16.33681185 52.3431123 16.29775963 54.87371173 16.2578125 57.40429688 C16.16185376 63.60275977 16.07778831 69.80128352 16 76 C12.37 76 8.74 76 5 76 C4.970271 73.59340088 4.970271 73.59340088 4.93994141 71.13818359 C4.86379272 65.17806469 4.77508903 59.21818695 4.68261719 53.25830078 C4.64436583 50.68022426 4.60950629 48.10209508 4.578125 45.52392578 C4.53239167 41.81523838 4.47440959 38.10691237 4.4140625 34.3984375 C4.40251129 33.24822113 4.39096008 32.09800476 4.37905884 30.91293335 C4.23257926 22.94624096 3.68778278 17.02235824 -2 11 C-7.1907087 7.77546884 -13.49872569 8.29856626 -19.3203125 9.46484375 C-24.35252191 11.08165628 -27.04529225 13.52572826 -30 18 C-33.07806461 24.66469124 -33.46748247 30.43318444 -33.51171875 37.71875 C-33.52966995 38.81723267 -33.54762115 39.91571533 -33.56611633 41.04748535 C-33.61999197 44.53161868 -33.6540426 48.01561679 -33.6875 51.5 C-33.72069308 53.87241455 -33.75518456 56.24481132 -33.79101562 58.6171875 C-33.87570565 64.41136043 -33.94262552 70.20549482 -34 76 C-37.63 76 -41.26 76 -45 76 C-45.07739976 59.20210276 -44.8352999 42.4192493 -44.5 25.625 C-44.45162966 23.12370165 -44.40345152 20.62239957 -44.35546875 18.12109375 C-44.23918618 12.0806841 -44.12033295 6.04033026 -44 0 C-40.7 0 -37.4 0 -34 0 C-33.67 2.64 -33.34 5.28 -33 8 C-32.5875 7.61328125 -32.175 7.2265625 -31.75 6.828125 C-22.10155374 -1.872706 -12.53441864 -4.5736605 0 0 Z"
        fill={color}
        stroke={color}
        strokeWidth="1"
      />
      
      {/* Path 3 - I letter */}
      <path 
        ref={el => pathsRef.current[2] = el}
        d="M0 0 C0.66837891 -0.00966797 1.33675781 -0.01933594 2.02539062 -0.02929688 C10.26932018 0.10877879 16.97922998 3.92569819 22.875 9.4375 C29.36732909 17.65127999 30.83299591 26.14207565 29.875 36.4375 C27.96579189 44.58878971 23.51278227 51.52439301 16.375 56.0078125 C8.90501583 59.89842926 1.55146183 61.81110447 -6.8046875 59.7890625 C-15.85313988 56.85646159 -22.47392621 51.84521031 -27.125 43.4375 C-30.07423421 36.02714979 -30.9686133 25.91462585 -27.875 18.375 C-22.32122642 9.05259434 -22.32122642 9.05259434 -19.125 6.4375 C-18.465 6.4375 -17.805 6.4375 -17.125 6.4375 C-17.125 5.7775 -17.125 5.1175 -17.125 4.4375 C-11.62024962 1.01232199 -6.43010189 0.02974145 0 0 Z"
        fill={color}
        stroke={color}
        strokeWidth="1"
      />
      
      {/* Path 4 - M letter */}
      <path 
        ref={el => pathsRef.current[3] = el}
        d="M0 0 C3.89583333 3.54166667 3.89583333 3.54166667 5.0625 5.875 C5.12308594 4.94816406 5.18367188 4.02132812 5.24609375 3.06640625 C5.37177734 1.27009766 5.37177734 1.27009766 5.5 -0.5625 C5.62181641 -2.35494141 5.62181641 -2.35494141 5.74609375 -4.18359375 C6.0625 -7.125 6.0625 -7.125 7.0625 -8.125 C9.73308851 -8.26615161 12.38682238 -8.16747107 15.0625 -8.125 C15.9703509 17.21514678 16.18791527 42.51989183 16.0625 67.875 C12.4325 67.875 8.8025 67.875 5.0625 67.875 C4.7325 63.915 4.4025 59.955 4.0625 55.875 C3.44375 56.74125 2.825 57.6075 2.1875 58.5 C-3.7088103 65.56887201 -12.48790847 69.36335713 -21.515625 70.2109375 C-34.85788648 70.35287645 -44.14079939 67.28105172 -53.80859375 58.09765625 C-62.22126354 49.25078415 -65.29501477 38.97145639 -65.1484375 26.99609375 C-64.42414493 16.27924631 -59.39004355 6.81784209 -51.625 -0.5 C-36.22024314 -13.234599 -14.99178187 -12.99130862 0 0 Z M-41.9375 3.875 C-41.9375 4.535 -41.9375 5.195 -41.9375 5.875 C-42.515 6.101875 -43.0925 6.32875 -43.6875 6.5625 C-48.2648988 9.2326493 -51.84545607 14.56095002 -53.5 19.58203125 C-55.24096534 28.70655493 -54.94879469 38.87104482 -49.9375 46.875 C-44.44527794 54.00373067 -37.69960618 58.00737976 -28.9375 59.875 C-20.13676943 60.48194694 -11.87213722 58.54879409 -4.9375 52.875 C1.98925229 46.36594131 5.22765286 38.86233553 5.5625 29.375 C5.25878418 20.48345764 2.48724353 13.15697145 -3.9375 6.875 C-14.91551935 -1.48639467 -29.71582981 -3.72959479 -41.9375 3.875 Z"
        fill={color}
        stroke={color}
        strokeWidth="1"
      />
      
      {/* Path 5 - A letter */}
      <path 
        ref={el => pathsRef.current[4] = el}
        d="M0 0 C2.97 0 5.94 0 9 0 C12.21476785 7.46920529 15.12928179 14.9909786 17.7890625 22.67578125 C18.83301758 25.54160632 19.99896447 28.3185451 21.20632935 31.11759949 C26.49568324 43.66270549 30.79093846 56.68508588 35.375 69.5 C36.02202755 71.30602823 36.66916239 73.11201803 37.31640625 74.91796875 C38.87883635 79.27820555 40.43983117 83.63895359 42 88 C44.14604758 85.85395242 44.65745206 84.58978768 45.64819336 81.76904297 C46.1139402 80.4566011 46.1139402 80.4566011 46.58909607 79.11764526 C46.9193428 78.1687442 47.24958954 77.21984314 47.58984375 76.2421875 C47.93503555 75.26516876 48.28022736 74.28815002 48.63587952 73.28152466 C49.74180694 70.14788408 50.83985194 67.01154914 51.9375 63.875 C53.0332659 60.76048966 54.13062555 57.64654514 55.22840881 54.53274536 C55.9111399 52.59438617 56.59240019 50.65550811 57.2719574 48.71603394 C59.68602566 41.83615836 62.16514977 34.98981514 64.90234375 28.23046875 C65.23347168 27.4091748 65.56459961 26.58788086 65.90576172 25.74169922 C66.24623535 24.89881348 66.58670898 24.05592773 66.9375 23.1875 C69.51095913 16.80489889 72.00923376 10.42124203 74.2109375 3.8984375 C75 2 75 2 77 0 C79.1640625 -0.1953125 79.1640625 -0.1953125 81.625 -0.125 C82.85089844 -0.09792969 82.85089844 -0.09792969 84.1015625 -0.0703125 C85.04128906 -0.03550781 85.04128906 -0.03550781 86 0 C85.33886659 5.7777311 83.34131342 10.90610894 81.3125 16.3125 C80.64088082 18.12070548 79.97034281 19.92931284 79.30078125 21.73828125 C78.75043213 23.22485229 78.75043213 23.22485229 78.18896484 24.74145508 C76.88783367 28.30740946 75.62682499 31.88665093 74.37109375 35.46875 C69.94268614 48.08183543 65.32938128 60.62866993 60.75 73.1875 C58.95213636 78.11812991 57.15546349 83.04919183 55.359375 87.98046875 C54.95104431 89.09922897 54.54271362 90.2179892 54.12200928 91.37065125 C53.74111145 92.41646866 53.36021362 93.46228607 52.96777344 94.53979492 C52.63501404 95.45226486 52.30225464 96.3647348 51.95941162 97.30485535 C50.93264604 100.18920834 49.96818075 103.09545774 49 106 C44.71 106 40.42 106 36 106 C33.40341304 98.76346514 30.80740995 91.52672118 28.21191406 84.28979492 C27.33153502 81.8353123 26.45100504 79.38088382 25.5703125 76.92651367 C21.08783586 64.43415691 16.6057387 51.94199768 12.20336914 39.42114258 C8.25234924 28.17916046 8.25234924 28.17916046 4.09765625 17.01171875 C3.77144287 16.1511084 3.44522949 15.29049805 3.10913086 14.40380859 C2.46279083 12.70193486 1.80888084 11.00291307 1.14672852 9.30712891 C0.85338623 8.53159668 0.56004395 7.75606445 0.2578125 6.95703125 C-0.0088623 6.26585205 -0.27553711 5.57467285 -0.55029297 4.86254883 C-1 3 -1 3 0 0 Z"
        fill={color}
        stroke={color}
        strokeWidth="1"
      />
      
      {/* Path 6 - R letter */}
      <path 
        ref={el => pathsRef.current[5] = el}
        d="M0 0 C1.23556641 0.01740234 1.23556641 0.01740234 2.49609375 0.03515625 C3.32238281 0.04417969 4.14867187 0.05320313 5 0.0625 C5.63808594 0.07410156 6.27617187 0.08570313 6.93359375 0.09765625 C6.93945999 0.73135132 6.94532623 1.36504639 6.95137024 2.01794434 C7.01550191 8.63725139 7.09997233 15.25608113 7.19604492 21.875 C7.22921738 24.34238374 7.25727301 26.80984196 7.2800293 29.27734375 C7.31371588 32.83235291 7.36604077 36.38668423 7.421875 39.94140625 C7.42826492 41.03755249 7.43465485 42.13369873 7.4412384 43.26306152 C7.56161118 49.59042536 8.35080441 54.31326283 10.93359375 60.09765625 C11.26359375 61.08765625 11.59359375 62.07765625 11.93359375 63.09765625 C14.22893633 64.23311187 14.22893633 64.23311187 16.93359375 65.09765625 C18.04734375 65.65453125 18.04734375 65.65453125 19.18359375 66.22265625 C26.33508824 68.49813177 34.2481509 67.35750029 40.93359375 64.09765625 C47.77885996 58.97333877 49.68175065 52.25207226 50.93359375 44.09765625 C51.5264325 36.5310795 51.53658112 28.93312063 51.62109375 21.34765625 C51.65432378 19.28253117 51.68881854 17.21742604 51.72460938 15.15234375 C51.80885827 10.13422573 51.87597215 5.11614776 51.93359375 0.09765625 C55.23359375 0.09765625 58.53359375 0.09765625 61.93359375 0.09765625 C61.93359375 25.17765625 61.93359375 50.25765625 61.93359375 76.09765625 C58.63359375 76.09765625 55.33359375 76.09765625 51.93359375 76.09765625 C51.43859375 71.64265625 51.43859375 71.64265625 50.93359375 67.09765625 C50.38832031 67.64035156 49.84304688 68.18304688 49.28125 68.7421875 C40.78174072 76.80582451 34.07144826 78.71829064 22.37890625 78.453125 C15.47356132 77.74066878 8.76667011 75.19923686 3.93359375 70.09765625 C-0.53182416 63.55275451 -3.18922648 58.58618268 -3.19580078 50.6105957 C-3.19895294 49.51298416 -3.2021051 48.41537262 -3.20535278 47.28450012 C-3.20332855 46.10522446 -3.20130432 44.92594879 -3.19921875 43.7109375 C-3.20017548 42.49818649 -3.2011322 41.28543549 -3.20211792 40.03593445 C-3.20279816 37.47472074 -3.20095471 34.91350531 -3.19677734 32.35229492 C-3.19141307 28.41516287 -3.19673475 24.47814419 -3.203125 20.54101562 C-3.20246446 18.05598933 -3.20118381 15.57096311 -3.19921875 13.0859375 C-3.20124298 11.90058914 -3.20326721 10.71524078 -3.20535278 9.49397278 C-3.20220062 8.40581772 -3.19904846 7.31766266 -3.19580078 6.1965332 C-3.19500519 5.23374954 -3.19420959 4.27096588 -3.19338989 3.27900696 C-3.02613207 0.40581829 -2.87649319 0.13594013 0 0 Z"
        fill={color}
        stroke={color}
        strokeWidth="1"
      />
      
      {/* Path 7 - U letter */}
      <path 
        ref={el => pathsRef.current[6] = el}
        d="M0 0 C0 3.3 0 6.6 0 10 C-2.289375 10.12375 -2.289375 10.12375 -4.625 10.25 C-11.03435945 10.90991994 -14.31473757 13.23813473 -18.75 17.875 C-23.45370931 24.4079296 -23.3295772 30.75071623 -23.4140625 38.5234375 C-23.43342865 39.62475006 -23.4527948 40.72606262 -23.4727478 41.86074829 C-23.53234928 45.36542099 -23.57885162 48.87012688 -23.625 52.375 C-23.66319762 54.75652445 -23.70225039 57.13803534 -23.7421875 59.51953125 C-23.83803504 65.34624362 -23.92213814 71.17302065 -24 77 C-27.63 77 -31.26 77 -35 77 C-35.06755876 59.63833657 -34.87284782 42.29494244 -34.5 24.9375 C-34.45158829 22.59440588 -34.40341033 20.25130691 -34.35546875 17.90820312 C-34.23965601 12.27207632 -34.12074211 6.63602327 -34 1 C-30.7 1 -27.4 1 -24 1 C-23.67 3.97 -23.34 6.94 -23 10 C-22.52691406 9.52949219 -22.05382812 9.05898437 -21.56640625 8.57421875 C-15.1766737 2.55815477 -8.97626928 -0.69048225 0 0 Z"
        fill={color}
        stroke={color}
        strokeWidth="1"
      />
      
      {/* Path 8 - Decorative element 1 */}
      <path 
        ref={el => pathsRef.current[7] = el}
        d="M0 0 C3.63 0 7.26 0 11 0 C11 25.08 11 50.16 11 76 C7.37 76 3.74 76 0 76 C0 50.92 0 25.84 0 0 Z"
        fill={color}
        stroke={color}
        strokeWidth="1"
        opacity="0.6"
      />
      
      {/* Path 9 - Decorative element 2 */}
      <path 
        ref={el => pathsRef.current[8] = el}
        d="M0 0 C2.30978833 2.08626043 2.87860037 3.40817681 3.5 6.4375 C2.74631954 10.30011236 1.14926852 11.72180575 -2 14 C-5.8427383 14.06625411 -7.99200716 13.81899419 -11 11.375 C-12.46981805 7.88418213 -11.98413921 5.60851044 -11 2 C-7.80903437 -1.92734231 -4.60446868 -1.25576418 0 0 Z"
        fill={color}
        stroke={color}
        strokeWidth="1"
        opacity="0.4"
      />
      

    </svg>
    </div>
  );
};

export default VimaruLogo;
